{"ast":null,"code":"import _classCallCheck from\"/home/node/pds-middleware/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/node/pds-middleware/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/node/pds-middleware/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/node/pds-middleware/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/node/pds-middleware/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import*as React from\"react\";import Form from'react-bootstrap/Form';import Button from\"react-bootstrap/Button\";import Container from\"react-bootstrap/esm/Container\";import createMyData from\"../../api-functions/my-data/createMyData\";import createNewRSAKeys from\"../../api-functions/my-creds/createNewRSAKey\";import Alert from\"react-bootstrap/Alert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateNewKeyPairForm=/*#__PURE__*/function(_React$Component){_inherits(CreateNewKeyPairForm,_React$Component);var _super=_createSuper(CreateNewKeyPairForm);function CreateNewKeyPairForm(props){var _this;_classCallCheck(this,CreateNewKeyPairForm);_this=_super.call(this,props);_this.state={passwordsNotMatch:false,keyPairName:\"\",passphrase:\"\",confirmPassphrase:\"-1\"};_this.handleToggle=_this.handleToggle.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.passwordsNotMatchAlert=_this.passwordsNotMatchAlert.bind(_assertThisInitialized(_this));return _this;}_createClass(CreateNewKeyPairForm,[{key:\"handleSubmit\",value:function handleSubmit(){if(this.state.passphrase===this.state.confirmPassphrase){this.setState({passwordsNotMatch:false});console.log(this.props.person,this.state.keyPairName,this.state.passphrase);createNewRSAKeys(this.props.person,this.state.keyPairName,this.state.passphrase);}else{this.setState({passwordsNotMatch:true});}}},{key:\"passwordsNotMatchAlert\",value:function passwordsNotMatchAlert(){if(this.state.passwordsNotMatch){return/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:\"The Passwords Do Not Match\"},\"danger\");}else{return\"\";}}},{key:\"handleToggle\",value:function handleToggle(){var _this2=this;if(this.props.toggleAddKeyPair){return/*#__PURE__*/_jsx(Container,{style:{padding:\"1rem\",margin:\"1rem\",backgroundColor:\"white\",borderRadius:\".5rem\"},children:/*#__PURE__*/_jsxs(Form,{children:[this.passwordsNotMatchAlert(),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicText\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Key Pair Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter Key Pair Name\",onChange:function onChange(event){return _this2.setState({keyPairName:event.target.value});}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicText\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Passphrase Key Pair\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Enter Passphrase\",onChange:function onChange(event){return _this2.setState({passphrase:event.target.value});}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicText\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Passphrase\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Enter Passphrase\",onChange:function onChange(event){return _this2.setState({confirmPassphrase:event.target.value});}})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:function onClick(){return _this2.handleSubmit();},children:\"Save\"})]})});}else{return\"\";}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:this.handleToggle()});}}]);return CreateNewKeyPairForm;}(React.Component);export default CreateNewKeyPairForm;","map":{"version":3,"names":["React","Form","Button","Container","createMyData","createNewRSAKeys","Alert","CreateNewKeyPairForm","props","state","passwordsNotMatch","keyPairName","passphrase","confirmPassphrase","handleToggle","bind","handleSubmit","passwordsNotMatchAlert","setState","console","log","person","toggleAddKeyPair","padding","margin","backgroundColor","borderRadius","event","target","value","Component"],"sources":["/home/node/pds-middleware/frontend/src/components/data-forms/CreateNewKeyPairForm.jsx"],"sourcesContent":["import * as React from \"react\";\nimport Form from 'react-bootstrap/Form';\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/esm/Container\";\nimport createMyData from \"../../api-functions/my-data/createMyData\";\nimport createNewRSAKeys from \"../../api-functions/my-creds/createNewRSAKey\";\nimport Alert from \"react-bootstrap/Alert\"\n\n\n\n\n\nclass CreateNewKeyPairForm extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            passwordsNotMatch: false,\n            keyPairName: \"\",\n            passphrase: \"\",\n            confirmPassphrase: \"-1\",\n        }\n        this.handleToggle = this.handleToggle.bind(this)\n        this.handleSubmit = this.handleSubmit.bind(this)\n        this.passwordsNotMatchAlert = this.passwordsNotMatchAlert.bind(this)\n    }\n\n    handleSubmit() {\n        if (this.state.passphrase === this.state.confirmPassphrase) {\n            this.setState({ passwordsNotMatch: false })\n            console.log(this.props.person, this.state.keyPairName, this.state.passphrase)\n            createNewRSAKeys(this.props.person, this.state.keyPairName, this.state.passphrase)\n        } else {\n            this.setState({ passwordsNotMatch: true })\n        }\n\n    }\n\n    passwordsNotMatchAlert() {\n        if (this.state.passwordsNotMatch) {\n            return (<Alert key={\"danger\"} variant={\"danger\"}>\n                The Passwords Do Not Match\n            </Alert>)\n        } else {\n            return \"\"\n        }\n    }\n\n    handleToggle() {\n        if (this.props.toggleAddKeyPair) {\n            return <Container style={{ padding: \"1rem\", margin: \"1rem\", backgroundColor: \"white\", borderRadius: \".5rem\" }}>\n                <Form>\n                    {this.passwordsNotMatchAlert()}\n\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicText\">\n                        <Form.Label>Key Pair Name</Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"Enter Key Pair Name\" onChange={(event) => this.setState({ keyPairName: event.target.value })} />\n                    </Form.Group>\n\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicText\">\n                        <Form.Label>Passphrase Key Pair</Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Enter Passphrase\" onChange={(event) => this.setState({ passphrase: event.target.value })} />\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicText\">\n                        <Form.Label>Confirm Passphrase</Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Enter Passphrase\" onChange={(event) => this.setState({ confirmPassphrase: event.target.value })} />\n                    </Form.Group>\n                    <Button variant=\"primary\" onClick={() => this.handleSubmit()} >\n                        Save\n                    </Button>\n                </Form>\n            </Container >\n        } else {\n            return \"\"\n        }\n\n    }\n\n\n    render() {\n        return (\n            <div>\n                {this.handleToggle()}\n            </div>\n\n\n        )\n    }\n}\n\nexport default CreateNewKeyPairForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}