{"ast":null,"code":"import _regeneratorRuntime from\"/home/ubuntu/Documents/Aries-storage/pds-middleware/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/ubuntu/Documents/Aries-storage/pds-middleware/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _createForOfIteratorHelper from\"/home/ubuntu/Documents/Aries-storage/pds-middleware/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _classCallCheck from\"/home/ubuntu/Documents/Aries-storage/pds-middleware/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/ubuntu/Documents/Aries-storage/pds-middleware/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/ubuntu/Documents/Aries-storage/pds-middleware/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/ubuntu/Documents/Aries-storage/pds-middleware/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/ubuntu/Documents/Aries-storage/pds-middleware/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import*as React from\"react\";import Form from'react-bootstrap/Form';import Button from\"react-bootstrap/Button\";import Container from\"react-bootstrap/esm/Container\";import createMyData from\"../../api-functions/my-data/createMyData\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateNewDataForm=/*#__PURE__*/function(_React$Component){_inherits(CreateNewDataForm,_React$Component);var _super=_createSuper(CreateNewDataForm);function CreateNewDataForm(props){var _this;_classCallCheck(this,CreateNewDataForm);_this=_super.call(this,props);_this.state={attribute:\"\",value:\"\",cert:\"\"};_this.handleToggle=_this.handleToggle.bind(_assertThisInitialized(_this));_this.getCertList=_this.getCertList.bind(_assertThisInitialized(_this));_this.getAttributeList=_this.getAttributeList.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(CreateNewDataForm,[{key:\"getAttributeList\",value:function getAttributeList(){var attrOptions=[];attrOptions.push(/*#__PURE__*/_jsx(\"option\",{children:\"Select An Attribute\"}));var _iterator=_createForOfIteratorHelper(this.props.attributes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var attribute=_step.value;attrOptions.push(/*#__PURE__*/_jsx(\"option\",{value:attribute,children:attribute}));}}catch(err){_iterator.e(err);}finally{_iterator.f();}return attrOptions;}},{key:\"getCertList\",value:function getCertList(){var certOptions=[];certOptions.push(/*#__PURE__*/_jsx(\"option\",{children:\"Select A Cert\"}));var _iterator2=_createForOfIteratorHelper(this.props.certs),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var cert=_step2.value;certOptions.push(/*#__PURE__*/_jsx(\"option\",{value:cert.keyPairName,children:cert.keyPairName}));}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return certOptions;}},{key:\"handleSubmit\",value:function(){var _handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(this.state.attribute!=\"Select An Attribute\"&&this.state.value!=\"\"&&this.state.cert!=\"Select A Cert\")){_context.next=6;break;}createMyData(this.props.person,this.state.attribute,this.state.value,this.state.cert);_context.next=4;return this.props.refresh();case 4:_context.next=7;break;case 6:alert(\"Fill out all the fields\");case 7:case\"end\":return _context.stop();}}},_callee,this);}));function handleSubmit(){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()},{key:\"handleToggle\",value:function handleToggle(){var _this2=this;if(this.props.toggleAddData){return/*#__PURE__*/_jsx(Container,{style:{padding:\"1rem\",margin:\"1rem\",backgroundColor:\"white\",borderRadius:\".5rem\"},children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicText\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"My Data Attribute\"}),/*#__PURE__*/_jsx(Form.Select,{onChange:function onChange(event){return _this2.setState({attribute:event.target.value});},\"aria-label\":\"Select An Attribute\",children:this.getAttributeList()})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicText\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Value\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Value\",onChange:function onChange(event){return _this2.setState({value:event.target.value});}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicText\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Certificate\"}),/*#__PURE__*/_jsx(Form.Select,{onChange:function onChange(event){return _this2.setState({cert:event.target.value});},\"aria-label\":\"Select A Cert\",children:this.getCertList()})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:function onClick(){return _this2.handleSubmit();},children:\"Save\"})]})});}else{return\"\";}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:this.handleToggle()});}}]);return CreateNewDataForm;}(React.Component);export default CreateNewDataForm;","map":{"version":3,"names":["React","Form","Button","Container","createMyData","CreateNewDataForm","props","state","attribute","value","cert","handleToggle","bind","getCertList","getAttributeList","handleSubmit","attrOptions","push","attributes","certOptions","certs","keyPairName","person","refresh","alert","toggleAddData","padding","margin","backgroundColor","borderRadius","event","setState","target","Component"],"sources":["/home/ubuntu/Documents/Aries-storage/pds-middleware/frontend/src/components/data-forms/CreateNewDataForm.js"],"sourcesContent":["import * as React from \"react\";\nimport Form from 'react-bootstrap/Form';\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/esm/Container\";\nimport createMyData from \"../../api-functions/my-data/createMyData\";\n\n\n\n\nclass CreateNewDataForm extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            attribute: \"\",\n            value: \"\",\n            cert: \"\"\n        }\n        this.handleToggle = this.handleToggle.bind(this)\n        this.getCertList = this.getCertList.bind(this)\n        this.getAttributeList = this.getAttributeList.bind(this)\n        this.handleSubmit = this.handleSubmit.bind(this)\n    }\n\n    getAttributeList() {\n        let attrOptions = []\n        attrOptions.push(<option>Select An Attribute</option>)\n        for (let attribute of this.props.attributes) {\n            attrOptions.push(<option value={attribute}>{attribute}</option>)\n        }\n        return attrOptions\n    }\n\n    getCertList() {\n        let certOptions = []\n        certOptions.push(<option>Select A Cert</option>)\n        for (let cert of this.props.certs) {\n            certOptions.push(<option value={cert.keyPairName}>{cert.keyPairName}</option>)\n        }\n        return certOptions\n    }\n\n    async handleSubmit() {\n        if (this.state.attribute != \"Select An Attribute\" && this.state.value != \"\" && this.state.cert != \"Select A Cert\") {\n            createMyData(this.props.person, this.state.attribute, this.state.value, this.state.cert)\n            await this.props.refresh()\n        } else {\n            alert(\"Fill out all the fields\")\n        }\n\n    }\n\n    handleToggle() {\n        if (this.props.toggleAddData) {\n            return <Container style={{ padding: \"1rem\", margin: \"1rem\", backgroundColor: \"white\", borderRadius: \".5rem\" }}>\n                <Form>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicText\">\n                        <Form.Label>My Data Attribute</Form.Label>\n                        <Form.Select onChange={(event) => this.setState({ attribute: event.target.value })} aria-label=\"Select An Attribute\">\n                            {this.getAttributeList()}\n                        </Form.Select>\n                    </Form.Group>\n\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicText\">\n                        <Form.Label>Value</Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"Value\" onChange={(event) => this.setState({ value: event.target.value })} />\n                    </Form.Group>\n\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicText\">\n                        <Form.Label>Certificate</Form.Label>\n                        <Form.Select onChange={(event) => this.setState({ cert: event.target.value })} aria-label=\"Select A Cert\">\n                            {this.getCertList()}\n                        </Form.Select>\n                    </Form.Group>\n\n\n                    <Button variant=\"primary\" onClick={() => this.handleSubmit()} >\n                        Save\n                    </Button>\n                </Form>\n            </Container >\n        } else {\n            return \"\"\n        }\n\n    }\n\n\n    render() {\n        return (\n            <div>\n                {this.handleToggle()}\n            </div>\n        )\n    }\n}\n\nexport default CreateNewDataForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}